#include "WireTip.h"

WireTip::WireTip() {
}

WireTip::~WireTip() {
}

void WireTip::Finalize() {
}

//////////////////////////////////////////////////////////////////////////////////////////////////
// ↓　初期化処理
//////////////////////////////////////////////////////////////////////////////////////////////////

void WireTip::Init() {
	BaseGameObject::Init();
	SetObject("cube.obj");
	transform_->SetScale({ 0.25f, 0.25f, 0.25f });
	transform_->SetTranslaion({ 0.0f, 0.0f, 0.0f });
	tag_ = "wireTip";
}

//////////////////////////////////////////////////////////////////////////////////////////////////
// ↓　更新処理
//////////////////////////////////////////////////////////////////////////////////////////////////

void WireTip::Update() {
	isHit_ = false;
	isCautch_ = false;
	isSnagged_ = false;
	isPull_ = false;
	weight_ = 0.0f;
	BaseGameObject::Update();
}

//////////////////////////////////////////////////////////////////////////////////////////////////
// ↓　描画処理
//////////////////////////////////////////////////////////////////////////////////////////////////

void WireTip::Draw() const {
	BaseGameObject::Draw();
}





void WireTip::OnCollision(Collider* other) {

	isHit_ = true;

	if (other->GetTag() == "hook") {
		isSnagged_ = true;
	}

	if (other->GetTag() == "canCatchObj") {
		if (!isFollow_) {
			isCautch_ = true;
			isFollow_ = true;
		}
	}

	if (other->GetTag() == "canPullObj") {
		isPull_ = true;
		weight_ = 0.5f;
	}

}

//////////////////////////////////////////////////////////////////////////////////////////////////
// ↓　Debug表示
//////////////////////////////////////////////////////////////////////////////////////////////////

#ifdef _DEBUG
void WireTip::Debug_Gui() {
	if (ImGui::TreeNode("WireTip")) {
		ImGui::Begin("WireTip");



		ImGui::End();
		ImGui::TreePop();
	}
}
#endif