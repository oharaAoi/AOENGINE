#include "TimeNode.h"
#include "Engine/Lib/GameTimer.h"
#include <cmath>

TimeNode::TimeNode() {
}

///////////////////////////////////////////////////////////////////////////////////////////////
// ↓ 初期化関数
///////////////////////////////////////////////////////////////////////////////////////////////

void TimeNode::Init() {
    time_ = 0;
}

///////////////////////////////////////////////////////////////////////////////////////////////
// ↓ 更新関数
///////////////////////////////////////////////////////////////////////////////////////////////

void TimeNode::customUpdate() {
    time_ += GameTimer::DeltaTime();
    sineTime_ = std::sinf(time_);
}

///////////////////////////////////////////////////////////////////////////////////////////////
// ↓ node描画
///////////////////////////////////////////////////////////////////////////////////////////////

void TimeNode::draw() {
    // -------- 出力ピン ----------
    showOUT<float>(
        "time",
        [=]() -> float {
            // 簡易的なカラー出力 (本来はGPUサンプリング)
            return time_;
        },
        ImFlow::PinStyle::blue()
    );

    showOUT<float>(
        "sineTime",
        [=]() -> float {
            // 簡易的なカラー出力 (本来はGPUサンプリング)
            return sineTime_;
        },
        ImFlow::PinStyle::blue()
    );
}
