#include "MissileHitPoint.h"
#include "Engine/Engine.h"

MissileHitPoint::MissileHitPoint() {}
MissileHitPoint::~MissileHitPoint() {}

//////////////////////////////////////////////////////////////////////////////////////////////////
// ↓　
//////////////////////////////////////////////////////////////////////////////////////////////////

void MissileHitPoint::Init() {
	hitPoint_ = Engine::CreateSprite("missileHitPoint.png");
	hitPointGauge_ = Engine::CreateSprite("missileHitPointGauge.png");
}

//////////////////////////////////////////////////////////////////////////////////////////////////
// ↓　
//////////////////////////////////////////////////////////////////////////////////////////////////

void MissileHitPoint::Update(const Matrix4x4& missileMat, const Matrix4x4& vpvpMat, float t) {
	Vector3 pos = Transform(Vector3::ZERO(), missileMat * vpvpMat);
	hitPos_ = { pos.x, pos.y };

	hitPoint_->SetTranslate(hitPos_);
	hitPointGauge_->SetTranslate(hitPos_);

	hitPointGauge_->SetUvDrawRange(Vector2(1.0f, 1.0f - t));

	hitPoint_->Update();
	hitPointGauge_->Update();
}

//////////////////////////////////////////////////////////////////////////////////////////////////
// ↓　
//////////////////////////////////////////////////////////////////////////////////////////////////

void MissileHitPoint::Draw() const {
	hitPoint_->Draw();
	hitPointGauge_->Draw();
}
