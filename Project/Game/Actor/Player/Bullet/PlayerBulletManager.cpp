#include "PlayerBulletManager.h"

PlayerBulletManager::~PlayerBulletManager() {
	bulletList_.clear();
}

///////////////////////////////////////////////////////////////////////////////////////////////
// ↓ 初期化
///////////////////////////////////////////////////////////////////////////////////////////////

void PlayerBulletManager::Init() {
	bulletList_.clear();
}

///////////////////////////////////////////////////////////////////////////////////////////////
// ↓ 更新処理
///////////////////////////////////////////////////////////////////////////////////////////////

void PlayerBulletManager::Update() {
	CheckBulletLife();

	for (std::unique_ptr<BaseBullet>& bullet : bulletList_) {
		if (bullet->GetBulletType() == Missile) {
			bullet->SetTargetPosition(playerTargetPos_);
		}
		bullet->Update();
	}
}

void PlayerBulletManager::SetPlayerTargetPos(const Math::Vector3& playerTargetPos) {
	playerTargetPos_ = playerTargetPos;
}
